<!DOCTYPE html>
<html>
<body>

<form id="form1" action="form_action.asp">
Add item: <input type="text" name="add" value="apple">
<br>
Remove item: <input type="text" name="remove">
<br>
Buy item: <input type="text" name="buy">

</form>

<button onclick="groceryList.refresh()">refresh</button>

<p>Grocery List:</p>
<p id="list"></p>

	<script>
		var groceryList = {}

		groceryList.display = function() {
			var text = ""
			for (var key in groceryList) {
				if (typeof(groceryList[key]) != "function") {text += "<br>" + key 
					if (groceryList[key] == true && key != "") {
						text += " [x]"}
				}
			}
			document.getElementById("list").innerHTML = text
		}

		groceryList.add = function(item) {
			groceryList[item] = false
		}

		groceryList.remove = function(item) {
			delete groceryList[item]
		}

		groceryList.refresh = function() {
			var changes = document.getElementById("form1")
			groceryList.add(changes.elements[0].value)
			groceryList.remove(changes.elements[1].value)
			groceryList.buy(changes.elements[2].value)
			groceryList.display()
		}

		groceryList.buy = function(item) {
			groceryList[item] = true
		}

	</script>

</body>
</html> 